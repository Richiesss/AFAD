experiment:
  name: "AFAD_MNIST_Phase1"
  seed: 42
  num_rounds: 2
  
server:
  address: "0.0.0.0:8080"
  min_clients: 5
  min_fit_clients: 5
  
strategy:
  type: "AFAD"
  intra_family: "heterofl"      # 同族内集約方式
  inter_family: "fedgen"        # 異種間集約方式
  temperature: 4.0              # KD温度
  distill_steps: 10             # 蒸留ステップ数/ラウンド
  generator:
    latent_dim: 100
    hidden_dims: [256, 512]
    ema_decay: 0.9

clients:
  - id: "client_0"
    model: "resnet50"
    device: "cuda:0"
    host: "server"              # Ubuntu machine
  - id: "client_1"
    model: "mobilenetv3_large"
    device: "cuda:0"
    host: "server"
  - id: "client_2"
    model: "resnet18"
    device: "cuda:0"
    host: "wsl2"                # WSL2 machine
  - id: "client_3"
    model: "vit_tiny"
    device: "cuda:0"
    host: "wsl2"
  - id: "client_4"
    model: "deit_small"
    device: "cuda:0"
    host: "wsl2"

data:
  dataset: "mnist"              # Phase1: mnist, Phase2: medmnist
  num_classes: 10
  distribution: "iid"           # iid | non_iid
  batch_size: 64
  
training:
  local_epochs: 1
  learning_rate: 0.01
  optimizer: "sgd"
  momentum: 0.9
  weight_decay: 0.0001

evaluation:
  metrics: ["accuracy", "f1_score", "communication_cost"]
  eval_every: 1                 # ラウンド毎に評価
